AT_SETUP([pyre \g<group> escaping])

dnl create pattern file
dnl
AT_DATA([11.re], [dnl
r(?P<re>.*)ge(?P=re)x
second
reg\g<re>x

])

dnl create output file
dnl
AT_DATA([11.out], [dnl
r+*ge+*x
second
reg+*x
])

dnl AX_AT_DIFF_PYRE()
dnl
m4_if([
AX_AT_DIFF_PYRE([11.re], [11.out], [0], [dnl
])
])

dnl diff 11.re 11.out | pyrediff -f
dnl
AT_CHECK([diff 11.re 11.out | ${abs_top_srcdir}/src/pyrediff -f])

dnl pyrediff 11.re 11.out
dnl
AT_CHECK([${abs_top_srcdir}/src/pyrediff 11.re 11.out])

AT_CLEANUP()
